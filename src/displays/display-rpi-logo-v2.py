# This code displays pi image & text on I2C OLED display, then repeats forever.
# Also print out the OLED's I2C address on serial at program start.
# ---
# Connection: SCL = GP1, SDA = GP0
# ---
# Hardware:
# 1. Cytron Maker Pi RP2040 (www.cytron.io/p-MAKER-PI-RP2040)
#    - Any RP2040 boards should work too.
# 2. Grove OLED Display 0.96 inch (www.cytron.io/p-grove-oled-display-0p96-inch-ssd1315)
# ---
from machine import Pin, I2C
import framebuf
import utime
import ssd1306

WIDTH  = 128
HEIGHT = 64

# default is data on GP7 and clock on GP6


CS = machine.Pin(1)
SCL = machine.Pin(2)
SDA = machine.Pin(3)
DC = machine.Pin(4)
RES = machine.Pin(5)
spi=machine.SPI(0, sck=SCL, mosi=SDA)
# print(spi)

oled = ssd1306.SSD1306_SPI(WIDTH, HEIGHT, spi, DC, RES, CS)                # Init oled display

# Raspberry Pi logo as 32x32 bytearray
# pi_logo = bytearray(b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|?\x00\x01\x86@\x80\x01\x01\x80\x80\x01\x11\x88\x80\x01\x05\xa0\x80\x00\x83\xc1\x00\x00C\xe3\x00\x00~\xfc\x00\x00L'\x00\x00\x9c\x11\x00\x00\xbf\xfd\x00\x00\xe1\x87\x00\x01\xc1\x83\x80\x02A\x82@\x02A\x82@\x02\xc1\xc2@\x02\xf6>\xc0\x01\xfc=\x80\x01\x18\x18\x80\x01\x88\x10\x80\x00\x8c!\x00\x00\x87\xf1\x00\x00\x7f\xf6\x00\x008\x1c\x00\x00\x0c \x00\x00\x03\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00")

# 32X32 = 1024, 1024 / 8 = 128 bytes
# print(len(pi_logo))

# coderdojo_logo = bytearray(b"\xFF\xFF\xFF\xBF\xDF\xEF\xF7\xFF\xFB\xFF\xFD\xFD\xFE\x0E\xE6\xF6\xF6\x06\xFC\xFD\xF9\xF1\xC3\x03\x07\x0F\x1F\x3F\x7F\xFF\xFF\xFF\x0F\xF9\xFE\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFC\xF9\xFB\xFB\xFC\x7F\x7F\x3F\x1F\x07\x00\x00\x00\x00\x00\x00\x00\x07\xFF\xF0\xDF\x7F\xFF\xFF\xFF\xFF\xFF\x1F\x07\x03\x01\x01\x00\x10\x10\xF0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\xE0\xFF\xFF\xFF\xFF\xFD\xFB\xF7\xEF\xEF\xDC\xF0\xA0\x80\x80\x00\x08\x08\x0F\x08\x8E\x80\x80\xC0\xC0\xC0\xE0\xF0\xF8\xFC\xFE\xFF\xFF\xFF")

my_bytearray = (b"\xFF\xFF\xFF\xBF\xDF\xEF\xF7\xFF\xFB\xFF\xFD\xFD\xFE\x0E\xE6\xF6\xF6\x06\xFC\xFD\xF9\xF1\xC3\x03\x07\x0F\x1F\x3F\x7F\xFF\xFF\xFF\x0F\xF9\xFE\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFC\xF9\xFB\xFB\xFC\x7F\x7F\x3F\x1F\x07\x00\x00\x00\x00\x00\x00\x00\x07\xFF\xF0\xDF\x7F\xFF\xFF\xFF\xFF\xFF\x1F\x07\x03\x01\x01\x00\x10\x10\xF0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\xE0\xFF\xFF\xFF\xFF\xFD\xFB\xF7\xEF\xEF\xDC\xF0\xA0\x80\x80\x00\x08\x08\x0F\x08\x8E\x80\x80\xC0\xC0\xC0\xE0\xF0\xF8\xFC\xFE\xFF\xFF\xFF")

coderdojo_logo = bytearray(my_bytearray)
fb_len = len(coderdojo_logo)
inv_fb = []

for i in range(0, fb_len):
    inv_fb.append(255 - my_bytearray[i])

inv_fb = bytearray(inv_fb)

# Load the raspberry pi logo into the framebuffer (the image is 32x32)
# Monochrome Horizontal least significant bit encoding is MONO_HLSB
# https://docs.micropython.org/en/latest/library/framebuf.html#framebuf.framebuf.MONO_VLSB
# fb = framebuf.FrameBuffer(pi_logo, 32, 32, framebuf.MONO_HLSB)
fb2 = framebuf.FrameBuffer(coderdojo_logo, 32, 32, framebuf.MONO_VLSB)
fbi = framebuf.FrameBuffer(inv_fb, 32, 32, framebuf.MONO_VLSB)

print(coderdojo_logo)
print('')
print(inv_fb)

oled.fill(0)
# oled.rect(0, 0, 34, 34, 1)
# oled.blit(fb, 1, 1)
# oled.rect(0, 0, 34, 34, 1)
oled.blit(fb2, 1, 1)

# oled.rect(50, 0, 34, 34, 1)
oled.blit(fbi, 50, 1)
oled.show()

    